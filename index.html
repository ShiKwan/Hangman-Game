<!DOCTYPE html>
<html lang="en-us">
<head>
	<title>Hangman Game- SK Bootcamp Project</title>
	<meta name=viewport content="width=device-width, initial-scale=1">
	
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

	<!-- Optional theme -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
	<!-- <link rel="stylesheet" href="fanpage-style.css"> -->
	<link rel="icon" type="image/jpg" href="http://www.dalessandroegalli.com/images/events/thumbs/236.jpg?t=1452720982">

</head>
<body>
	
	<nav class="navbar navbar-default">
	  <div class="container-fluid">
	    <!-- Brand and toggle get grouped for better mobile display -->
		<div class="navbar-header">
		  <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
		    <span class="sr-only">Toggle navigation</span>
		    <span class="icon-bar"></span>
		    <span class="icon-bar"></span>
		    <span class="icon-bar"></span>
		  </button>
		  <a class="navbar-brand" href="#">Title</a>
		</div>

		<!-- Collect the nav links, forms, and other content for toggling -->
		<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
		  <ul class="nav navbar-nav">
		    <li class="active"><a href="#">Game <span class="sr-only">(current)</span></a></li>
		    <li><a href="#">Life</a></li>
		    <li><a href="#">Help</a></li>
		    <li><a href="#">Score <label id="lblScore" /></a></li>
		    <li class="dropdown">
		      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Mode <span class="caret"></span></a>
		      <ul class="dropdown-menu">
		        <li><a href="#">Easy</a></li>
		        <li><a href="#">Intermediate</a></li>
		        <li><a href="#">Hardcore</a></li>
		      </ul>
		    </li>
		  </ul>
		  <ul class="nav navbar-nav navbar-right">
		    <li><a href="#">Instructions</a></li>
		  </ul>
		</div><!-- /.navbar-collapse -->
		</div><!-- /.container-fluid -->
	</nav>


	<div class="wrapper">
		<div class="container-fluid">
			<h2>Welcome to Hangman! </h2>
			<h2>(Final Fantasy Edition!)</h2>
			<div class="jumbotron">
				<div class="row">
					<div class="col-md-3">
						<img id="imgCharHead" width="100%" class="img-thumbnail" scr="" alt="character image" />
					</div>
					<div class="col-md-9">
						<h1 id="wordToGuess"></h1>
						<p><label>You guessed: </label><lable id="lblGuessed"></lable></p>
						<p><a class="btn btn-primary btn-lg" href="#" role="button">Tips</a></p>
					</div>
				</div>
				
			</div>
			<div id="divCharInfo" class="row">
				<div class="col-md-6">
					<div class="jumbotron text-center">
						<img id="imgChar"/>
					</div>		
				</div>
				<div class="col-md-6">
					<table id="tblCharInfo" class="table">
						<tr>
							<td>
								<label>Name </label>
							</td>
							<td>
								<label id="lblName" />
							</td>
						</tr>
						<tr>
							<td>
								<label>From </label>
							</td>
							<td>
								<label id="lblFrom" />
							</td>
						</tr>
						<tr>
							<td>
								<label>More </label>
							</td>
							<td>
								<label id="lblMore" />
							</td>
						</tr>
						<tr>
							<td>
								<label>Clips </label>
							</td>
							<td>
								<label id="lblClips" />
							</td>
						</tr>
						<tr>
							<td>
								<label>Wiki </label>
							</td>
							<td>
								<label id="lblWiki" />
							</td>
						</tr>
					</table>
				</div>
			</div>		
		</div>
	</div>
	<audio id="sndButton" src="assets/audio/button_click.wav" preload="auto"></audio>


	


	<script type="text/JavaScript">

		var gamePlay = {
			mode : 0,
			life : 5,
			score : 0,
			randomCharacter : "",
			charToGuess : "",
			charLeft : ""
		}
		var character = new Array();

		//Create characters here.
		var char1 = {
			name: "tifa",
			game: "Final Fantasy 7",
			bio: "Tifa Lockhart is a playable character in Final Fantasy VII, and the deuteragonist of Final Fantasy VII: Advent Children. In Dirge of Cerberus -Final Fantasy VII- and Crisis Core -Final Fantasy VII-, she plays a supportive role. Tifa is Cloud Strife's childhood friend, but lost contact with him years ago. When she meets him again, she convinces him to join the resistance group she is a member of, AVALANCHE, to fight Shinra Electric Power Company. Tifa supports Cloud as his comrade and helps him fight his nemesis Sephiroth, bearing the same hatred for him as Cloud does due to the destruction of their hometown.",
			img: "assets/images/tifa.jpg",
			clip: '<iframe width="560" height="315" src="https://www.youtube.com/embed/k70IWHiXl18" frameborder="0" allowfullscreen></iframe>',
			wiki: 'http://finalfantasy.wikia.com/wiki/Tifa_Lockhart',
			gif: "assets/images/tifa.gif"

		}
		var char2 = {
			name: "sephiroth",
			game: "Final Fantasy 7",
			bio: "Sephiroth is the main antagonist of Final Fantasy VII, and one of the major antagonists in its extended universe. Before his fall from grace, Sephiroth was one of the most lauded success stories of the Shinra Electric Power Company's SOLDIER program. A great warrior idolized by the public and infantrymen alike for his strength and discipline in combat, Sephiroth's many successes in the field of battle during the conflicts surrounding the Shinra Electric Power Company's bid for global domination led to his status as a celebrity war hero and the poster boy for both the Shinra Military and the company's SOLDIER program. In spin-off appearances, Sephiroth is depicted as Cloud Strife's archenemy, and is seen as a symbol of Cloud's troubled past that haunts his life.",
			img: "assets/images/sephiroth.jpg",
			clip: '<iframe width="560" height="315" src="https://www.youtube.com/embed/Z-rkY4s7xf4" frameborder="0" allowfullscreen></iframe>',
			wiki: 'http://finalfantasy.wikia.com/wiki/Sephiroth_(Final_Fantasy_VII)',
			gif: "assets/images/sephiroth.gif?" + Math.random()
		}
		var char3 = {
			name: "cloud",
			game: "Final Fantasy 7",
			bio: "Cloud Strife is the main protagonist in Final Fantasy VII and Final Fantasy VII: Advent Children, and also appears in the spin-off games of the Compilation of Final Fantasy VII, including Dirge of Cerberus -Final Fantasy VII- and Crisis Core -Final Fantasy VII-, as a supporting character. He is to be the main character again for Final Fantasy VII Remake. An arrogant and proud swordsman at first, Cloud introduces himself as a former member of an elite warrior unit called SOLDIER who has turned mercenary, and uninterested in anything beyond his hired task at hand. He later discovers the truth about his past and, with the help of his friends, learns there is more to being a hero than possessing physical strength and fame, developing compassion for the world and people he fights to protect.", 
			img: "assets/images/cloud.jpg",
			clip: '<iframe width="560" height="315" src="https://www.youtube.com/embed/rQam5uoWxFE" frameborder="0" allowfullscreen></iframe>',
			wiki: "http://finalfantasy.wikia.com/wiki/Cloud_Strife",
			gif: "assets/images/cloud2.gif"

		}

		//log gameplay information
		function logGamePlay(gamePlay) {
			console.log("GamePlay Log : " , gamePlay);
		}

		//log character information
		function logCharacter(char){
			console.log(" Character Log :", char);
		}

		// create underscore "_" on the word to guess
		function createNewGuessChar(charLength){
		var charToGuess = new Array();
		for(var i = 0; i< charLength; i++){
			charToGuess[i] = "_";
		}
		return charToGuess;
		}
		function logArrayElements(element, index, array) {
			console.log('a[' + index + '] = ' + element);
		}
		
		var userGuessed = new Array();

		function startGame(char){
			gamePlay.randomCharacter = char[Math.floor(Math.random() * char.length)];
			logCharacter(gamePlay.randomCharacter);
			gamePlay.charToGuess = createNewGuessChar(gamePlay.randomCharacter.name.length);
			console.log(gamePlay.charToGuess);
			gamePlay.charLeft = gamePlay.charToGuess.length;
			userGuessed = [];
			document.getElementById("imgCharHead").src = gamePlay.randomCharacter.img;
			document.querySelector("#lblGuessed").innerHTML = "[ ]";
			document.querySelector("#wordToGuess").innerHTML = gamePlay.charToGuess.join(" ") ;
			document.getElementById("divCharInfo").style.display = "none";
		}


		logGamePlay(gamePlay);
		//Push each character into the array. 
		character.push(char1);
		character.push(char2);
		character.push(char3);

		console.log(gamePlay.mode);
		console.log(gamePlay.life);
		console.log(gamePlay.score);

		logCharacter(character);
		console.log(character.length);

		startGame(character);

		
		document.onkeyup = function(event) {
			var userGuess = event.key.toLowerCase();
				document.getElementById("sndButton").play();
				//if the letter appears in randomCharacter's name, and not in userGuessed
				if(gamePlay.randomCharacter.name.indexOf(userGuess) > -1 && userGuessed.indexOf(userGuess) == -1){
					for(var i = 0; i< gamePlay.randomCharacter.name.length; i++){
						if(gamePlay.randomCharacter.name[i] === userGuess){
							gamePlay.charToGuess[i] = userGuess;
						}
					}
					var charLeftHolder = 0;
					for(var i = 0; i< gamePlay.charToGuess.length; i++){
						if(gamePlay.charToGuess[i] == "_"){
							charLeftHolder++;
						}
						gamePlay.charLeft = charLeftHolder;
					}

					document.querySelector("#wordToGuess").innerHTML = gamePlay.charToGuess.join(" ");
					console.log(gamePlay.charToGuess);
					console.log("Character(s) left: " + gamePlay.charLeft);
				}
				if(userGuessed.indexOf(userGuess) == -1 && gamePlay.randomCharacter.name.indexOf(userGuess) == -1){
				document.getElementById("sndButton").play();
				userGuessed.push(userGuess);	
				document.querySelector("#lblGuessed").innerHTML = "[ " + userGuessed.join(", ") + " ]";
				}
				console.log("Entered words: " + userGuessed);
				if(gamePlay.charLeft == 0){
					gamePlay.score ++;
					console.log("You win!")
					document.getElementById("divCharInfo").style.display = "block";
					document.getElementById("imgChar").src = gamePlay.randomCharacter.img;
					document.querySelector("#lblName").innerHTML = gamePlay.randomCharacter.name;
					document.querySelector("#lblMore").innerHTML = gamePlay.randomCharacter.bio;
					document.querySelector("#lblFrom").innerHTML = gamePlay.randomCharacter.game;
					document.getElementById("lblClips").src = gamePlay.randomCharacter.clip;
					document.getElementById("imgChar").src = gamePlay.randomCharacter.gif;
					document.querySelector("#lblWiki").innerHTML = gamePlay.randomCharacter.wiki;

					console.log(gamePlay.randomCharacter.bio);
					console.log(gamePlay.randomCharacter.game);
					logGamePlay(gamePlay);
					console.log("Play again? (y/n)");
				}
				if(gamePlay.charLeft ==0 && (event.key === "y")){
					startGame(character);
				}else if(gamePlay.charLeft ==0 && (event.key === "n")){
					console.log("Thank you for playing!");
				}
			
		}
		/* NOTE: Test the randomness
		for(var i =0; i< 20; i++){
			var randomCharacter = character[Math.floor(Math.random() *character.length)];
			console.log(randomCharacter.name);
		}
		*/
	</script>
	<!-- jQuery, javascript file for the Bootstrap's javascript file to function -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

	<!-- Latest compiled and minified JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
</body>
</html>